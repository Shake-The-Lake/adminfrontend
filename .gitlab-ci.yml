stages:
  - lint
  - test
  - build
  - e2e

test-job:
  stage: test
  image: node:lts
  script:
    - npm install
    - npm run test
check-job:
  stage: lint
  image: node:lts
  script:
    - npm install
    - npm run lint

e2e:
  stage: e2e
  script: echo "Triggering E2E pipeline"
  trigger:
    project: your-group/e2e-project # Replace with the actual E2E project path
    branch: main # The branch in the E2E project to trigger
  rules:
    - if: '$CI_PIPELINE_SOURCE == "merge_request_event"'
      when: always # Trigger when the pipeline is for a merge request
    - if: '$CI_PIPELINE_SOURCE == "push"'
      when: always # Trigger on pushes (optional)
